
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quickstart &#8212; arkouda 2020.07.07 documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Usage" href="../usage.html" />
    <link rel="prev" title="Performance Testing" href="testing.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="quickstart">
<h1>Quickstart<a class="headerlink" href="#quickstart" title="Permalink to this headline">¶</a></h1>
<p>This guide assumes you have satisfied the <a class="reference internal" href="prerequisites.html#prerequisites-label"><span class="std std-ref">Prerequisites</span></a> and followed the <a class="reference internal" href="installation.html#installation-label"><span class="std std-ref">Installation</span></a> to build the arkouda server. Also, both your <code class="docutils literal notranslate"><span class="pre">PATH</span></code> and <code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code> environment variables should contain the arkouda root directory.</p>
<div class="section" id="launch-arkouda-server">
<h2>Launch Arkouda Server<a class="headerlink" href="#launch-arkouda-server" title="Permalink to this headline">¶</a></h2>
<p>In a terminal, run the arkouda server program with one locale</p>
<p>You should see a startup message like</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ ./arkouda_server -nl 1
arkouda server version = 2020.07.07
memory tracking = true
initialized the .arkouda directory /Your/PATH/arkouda/.arkouda
getMemLimit() = 123695058124
bytes of memoryUsed() = 2462
server listening on tcp://node01:5555
</pre></div>
</div>
<p>or with authentication turned on</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ ./arkouda_server -nl 1 --authenticate
arkouda server version = 2020.07.07
memory tracking = true
initialized the .arkouda directory /Your/PATH/arkouda/.arkouda
getMemLimit() = 123695058124
bytes of memoryUsed() = 2462
server listening on tcp://node01:5555?token=vikq8Co2fqv20usbrRnRtFsLr9nNbad
</pre></div>
</div>
<p>The last line is the most important, because it contains the connection url with the hostname and port required for the client to connect to the server.</p>
</div>
<div class="section" id="connect-the-python-3-client">
<h2>Connect the Python 3 Client<a class="headerlink" href="#connect-the-python-3-client" title="Permalink to this headline">¶</a></h2>
<p>In another terminal window, launch an interactive Python 3 session, such as <code class="docutils literal notranslate"><span class="pre">ipython</span></code> or <code class="docutils literal notranslate"><span class="pre">jupyter</span> <span class="pre">notebook</span></code> (both included with the Anaconda distribution). To connect to the arkouda server, you must import the arkouda module and call connect with the connection url from the server startup messages. In Python, run</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">arkouda</span> <span class="k">as</span> <span class="nn">ak</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">default</span> <span class="n">way</span> <span class="n">to</span> <span class="n">connect</span> <span class="ow">is</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ak</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">connect_url</span><span class="o">=</span><span class="s1">&#39;tcp://node01:5555&#39;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">connected to tcp://node01:5555</span>
</pre></div>
</div>
<p>substituting the hostname and port appropriately (defaults are ‘localhost’ and 5555).</p>
</div>
<div class="section" id="simple-computations">
<h2>Simple Computations<a class="headerlink" href="#simple-computations" title="Permalink to this headline">¶</a></h2>
<div class="section" id="create-and-sum-an-array">
<h3>Create and sum an array<a class="headerlink" href="#create-and-sum-an-array" title="Permalink to this headline">¶</a></h3>
<p>The following code creates an arkouda <code class="docutils literal notranslate"><span class="pre">pdarray</span></code> that resides on the arkouda server and performs a server-side computation, returning the result to the Python client.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a server-side array with integers from 1 to N inclusive</span>
<span class="c1"># This syntax is from NumPy</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">N</span> <span class="o">=</span> <span class="mi">10</span><span class="o">**</span><span class="mi">6</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">A</span> <span class="o">=</span> <span class="n">ak</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">N</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="c1"># Sum the array, returning the result to Python</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
<span class="c1"># Check the result</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">assert</span> <span class="n">A</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">==</span> <span class="p">(</span><span class="n">N</span> <span class="o">*</span> <span class="p">(</span><span class="n">N</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span> <span class="o">//</span> <span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="section" id="array-arithmetic">
<h3>Array arithmetic<a class="headerlink" href="#array-arithmetic" title="Permalink to this headline">¶</a></h3>
<p>Now, we will perform an operation on two <code class="docutils literal notranslate"><span class="pre">pdarray</span></code> objects to create a new <code class="docutils literal notranslate"><span class="pre">pdarray</span></code>. This time, the result will not be returned to the Python client, but will be stored on the server. In general, only scalar results are automatically returned to Python; <code class="docutils literal notranslate"><span class="pre">pdarray</span></code> results remain on the server unless explicitly transferred by the user (see <a class="reference internal" href="../usage/IO.html#arkouda.pdarray.to_ndarray" title="arkouda.pdarray.to_ndarray"><code class="xref py py-meth docutils literal notranslate"><span class="pre">arkouda.pdarray.to_ndarray()</span></code></a>).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generate two (server-side) arrays of random integers 0-9</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">B</span> <span class="o">=</span> <span class="n">ak</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">N</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">C</span> <span class="o">=</span> <span class="n">ak</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">N</span><span class="p">)</span>
<span class="c1"># Multiply them (server-side)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">D</span> <span class="o">=</span> <span class="n">B</span> <span class="o">*</span> <span class="n">C</span>
<span class="c1"># Print a small representation of the array</span>
<span class="c1"># This does NOT move the array to the client</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">D</span><span class="p">)</span>
<span class="c1"># Get the min and max values</span>
<span class="c1"># Because these are scalars, they live in Python</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">minVal</span> <span class="o">=</span> <span class="n">D</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">maxVal</span> <span class="o">=</span> <span class="n">D</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">minVal</span><span class="p">,</span> <span class="n">maxVal</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="indexing">
<h3>Indexing<a class="headerlink" href="#indexing" title="Permalink to this headline">¶</a></h3>
<p>Arkouda <code class="docutils literal notranslate"><span class="pre">pdarray</span></code> objects support most of the same indexing and assignment syntax of 1-dimensional NumPy <code class="docutils literal notranslate"><span class="pre">ndarray``s</span> <span class="pre">(arkouda</span> <span class="pre">currently</span> <span class="pre">only</span> <span class="pre">supports</span> <span class="pre">1-D</span> <span class="pre">arrays).</span> <span class="pre">This</span> <span class="pre">code</span> <span class="pre">shows</span> <span class="pre">two</span> <span class="pre">ways</span> <span class="pre">to</span> <span class="pre">get</span> <span class="pre">the</span> <span class="pre">even</span> <span class="pre">elements</span> <span class="pre">of</span> <span class="pre">``A</span></code> from above: with a slice, and with logical indexing.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Use a slice</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">evens1</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">]</span>
<span class="c1"># Create a logical index</span>
<span class="c1"># Bool pdarray of same size as A</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">evenInds</span> <span class="o">=</span> <span class="p">((</span><span class="n">A</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<span class="c1"># Use it to get the evens</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">evens2</span> <span class="o">=</span> <span class="n">A</span><span class="p">[</span><span class="n">evenInds</span><span class="p">]</span>
<span class="c1"># Compare the two (server-side) arrays</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">assert</span> <span class="p">(</span><span class="n">evens1</span> <span class="o">==</span> <span class="n">evens2</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="sorting">
<h3>Sorting<a class="headerlink" href="#sorting" title="Permalink to this headline">¶</a></h3>
<p>Sorting arrays is a ubiquitous operation, and it is often useful to use the sorting of one array to order other arrays. Like NumPy, arkouda provides this functionality via the <code class="docutils literal notranslate"><span class="pre">argsort</span></code> function, which returns a permutation vector that can be used as an index to order other arrays. Here, we will order the arrays <code class="docutils literal notranslate"><span class="pre">B</span></code> and <code class="docutils literal notranslate"><span class="pre">C</span></code> from above according to the product of their elements (<code class="docutils literal notranslate"><span class="pre">D</span></code>).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Compute the permutation that sorts the product array</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">perm</span> <span class="o">=</span> <span class="n">ak</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">D</span><span class="p">)</span>
<span class="c1"># Reorder B, C, and D</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">B</span> <span class="o">=</span> <span class="n">B</span><span class="p">[</span><span class="n">perm</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">C</span> <span class="o">=</span> <span class="n">C</span><span class="p">[</span><span class="n">perm</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">D</span> <span class="o">=</span> <span class="n">D</span><span class="p">[</span><span class="n">perm</span><span class="p">]</span>
<span class="c1"># Check that D is monotonically non-decreasing</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">assert</span> <span class="p">(</span><span class="n">D</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">D</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="c1"># Check that reordered B and C still produce D</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">assert</span> <span class="p">((</span><span class="n">B</span> <span class="o">*</span> <span class="n">C</span><span class="p">)</span> <span class="o">==</span> <span class="n">D</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="and-more">
<h3>And More<a class="headerlink" href="#and-more" title="Permalink to this headline">¶</a></h3>
<p>See the <a class="reference internal" href="../usage.html#usage-label"><span class="std std-ref">Usage</span></a> section for the full list of operations supported on arkouda arrays. These operations are quite composable and can be used to implement more complex algorithms as in the <a class="reference internal" href="../examples.html#examples-label"><span class="std std-ref">Examples</span></a> section.</p>
</div>
</div>
<div class="section" id="shutdown-the-server-optional">
<h2>Shutdown the server (optional)<a class="headerlink" href="#shutdown-the-server-optional" title="Permalink to this headline">¶</a></h2>
<p>If desired, you can shutdown the arkouda server from a connected client with</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ak</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
</pre></div>
</div>
<p>This command will delete all server-side arrays and cause the <code class="docutils literal notranslate"><span class="pre">arkouda_server</span></code> process in the first terminal to exit.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">arkouda</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="prerequisites.html">Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Performance Testing</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#launch-arkouda-server">Launch Arkouda Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="#connect-the-python-3-client">Connect the Python 3 Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="#simple-computations">Simple Computations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#shutdown-the-server-optional">Shutdown the server (optional)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../autoapi/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server/index.html">Chapel API Reference</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="testing.html" title="previous chapter">Performance Testing</a></li>
      <li>Next: <a href="../usage.html" title="next chapter">Usage</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Michael Merrill and William Reus.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.5.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/setup/quickstart.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>